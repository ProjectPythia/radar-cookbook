{"version":2,"kind":"Notebook","sha256":"b9f84efa5e92bd2209cc84ba86e5b11602ef7f5a5b136c0168b5c5ff77900fe7","slug":"notebooks.example-workflows.fastbarnes-interpolation-rhi","location":"/notebooks/example-workflows/fastbarnes_interpolation_rhi.ipynb","dependencies":[],"frontmatter":{"title":"2D objective analysis of weather radar RHI scan: Fast Barnes Interpolation Example","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Max Grover","given":"Max","family":"Grover"},"name":"Max Grover","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Zachary Sherman","given":"Zachary","family":"Sherman"},"name":"Zachary Sherman","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Milind Sharma","given":"Milind","family":"Sharma"},"name":"Milind Sharma","id":"contributors-myst-generated-uid-2"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true},"code":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/projectpythia/radar-cookbook","copyright":"2024","affiliations":[{"id":"University at Albany (State University of New York)","name":"University at Albany (State University of New York)"},{"id":"UCAR/NCAR","name":"UCAR/NCAR"}],"abbreviations":{"ARM":"Atmospheric Radiation Measurement"},"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/radar-cookbook/blob/main/notebooks/example-workflows/fastbarnes_interpolation_rhi.ipynb","exports":[{"format":"ipynb","filename":"fastbarnes_interpolation_rhi.ipynb","url":"/radar-cookbook/build/fastbarnes_interpola-2164641a553b53fb66c52ad9d2c2e459.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This example uses the Fast Barnes interpolation methods as presented in ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xoN7fal9hv"},{"type":"cite","url":"https://doi.org/10.5194/gmd-16-1697-2023","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Zürcher (2023)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QWYADCKWGl"}],"kind":"narrative","label":"Z_rcher_2023","identifier":"https://doi.org/10.5194/gmd-16-1697-2023","enumerator":"1","key":"LSFrMyFfep"},{"type":"text","value":" available at ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Srh0S8FliT"},{"type":"link","url":"https://github.com/MeteoSwiss/fast-barnes-py.git","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"fast-barnes-py","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FjPPPr6p6k"}],"urlSource":"https://github.com/MeteoSwiss/fast-barnes-py.git","error":true,"key":"m0ZHaPr1Mr"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xMo4gcAMhe"}],"key":"kWR0oNIQXV"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The notebook applies the fast Barnes interpolation methods to RHI scan data from the ","key":"bJmSC7AbEy"},{"type":"abbreviation","title":"Atmospheric Radiation Measurement","children":[{"type":"text","value":"ARM","key":"Lt2lqu727b"}],"key":"gcMvLWlnxI"},{"type":"text","value":"-CSAPR2 radar data from the [TRACER] (","key":"yveULHKA2h"},{"type":"link","url":"https://www.arm.gov/research/campaigns/amf2021tracer","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"https://​www​.arm​.gov​/research​/campaigns​/amf2021tracer","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"A47CVj3Pcy"}],"urlSource":"https://www.arm.gov/research/campaigns/amf2021tracer","key":"JhdPeqwfYn"},{"type":"text","value":") field campaign.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UpI44pYuwY"}],"key":"WccYTZryDt"}],"key":"GurGCfEjho"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o7oUUoC5At"}],"key":"xPjwCSkLux"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tz0GG6W15A"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"JfzIMjlJfF"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This notebook shows how to download the ","key":"junKvllBoZ"},{"type":"abbreviation","title":"Atmospheric Radiation Measurement","children":[{"type":"text","value":"ARM","key":"ib3cM1oUz4"}],"key":"OMtUgvkSpT"},{"type":"text","value":"-CSAPR2 RHI data from ","key":"rBLQNsLhND"},{"type":"abbreviation","title":"Atmospheric Radiation Measurement","children":[{"type":"text","value":"ARM","key":"nbztQ3CFnE"}],"key":"hJLRlQzMxK"},{"type":"text","value":" data repository and grid radar variables on a two-dimensional Cartesian grid using Python.","key":"f0bRVORzdd"}],"key":"puwaoputhr"}],"key":"J6uP9xblUI"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TNeaMvnEcr"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"OJfUjo7OoJ"},{"type":"table","position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IWSmRS1ykx"}],"key":"oJuCpgoGXg"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RdcNxC3VAz"}],"key":"YC0ivNyLex"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"kXWG8i9WK1"}],"key":"N9D7Wph94E"}],"key":"jRW9eVHRol"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/xarray/xarray-intro.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Intro to Xarray","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"kMxdci0bSP"}],"urlSource":"https://foundations.projectpythia.org/core/xarray/xarray-intro.html","key":"hnAMkCmsi4"}],"key":"MDmuF99YfC"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QyEkluF5f7"}],"key":"HSAuUz7sMq"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[],"key":"YbrAefXw5N"}],"key":"K6XEG8lDZK"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/matplotlib/matplotlib-basics.html","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Matplotlib Basics","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"gDoun01tWO"}],"urlSource":"https://foundations.projectpythia.org/core/matplotlib/matplotlib-basics.html","key":"bT0ws8eC7D"}],"key":"F9znBOXT5n"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Required","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ptwUsUFzVe"}],"key":"Mg1PDOIbya"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Basic plotting","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"nqfdpwbBFq"}],"key":"XxEzmpxr1a"}],"key":"GPxhjyGTAq"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"/notebooks/foundations/pyart-basics","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Py-ART Basics","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"szG8DHgZGL"}],"urlSource":"../foundations/pyart-basics","dataUrl":"/notebooks.foundations.pyart-basics.json","internal":true,"protocol":"file","key":"jtmvlVVkN5"}],"key":"hdhWSQmJ6y"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Required","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"MMicbhjxxn"}],"key":"lajk8JlIvp"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"IO/Visualization","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"i19p3gke6p"}],"key":"i59EdKvgSg"}],"key":"ID8UERdp1D"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/data-formats/netcdf-cf.html","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Understanding of NetCDF","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"HecSAnJumx"}],"urlSource":"https://foundations.projectpythia.org/core/data-formats/netcdf-cf.html","key":"KHnJZhYJp5"}],"key":"gAsBvcainw"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"C5OJmBboti"}],"key":"Bipv7lwGKR"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Familiarity with metadata structure","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EFOAsEsI6D"}],"key":"RMcRoIVNE2"}],"key":"rU9bNrl3Yp"}],"key":"ayjgVZxmd9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"zV1hNxQ6Eo"}],"key":"ehxNIrfNyw"},{"type":"text","value":": 10 minutes","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"cHtM3uQ3ZU"}],"key":"Xf4dTbMzVe"}],"key":"igueYZ7hRx"}],"key":"yKoez1cI8b"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uunYW2cIL3"}],"key":"MBYJr8rcsi"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Sew6Zw5Nqq"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"Dxt8XbHwzR"}],"key":"PhQSlyHtbA"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import pyart\nimport act\nimport glob\nimport os\nimport numpy as np\nimport xarray as xr\nimport matplotlib.pyplot as plt\nfrom pathlib import Path\nfrom copy import deepcopy\nfrom fastbarnes.interpolation import barnes\nfrom datetime import timedelta","visibility":"show","key":"HzdunCFTbZ"},{"type":"output","id":"fhBxZqOthz-SrjXlO_ZK6","data":[{"output_type":"stream","name":"stdout","text":"\n## You are using the Python ARM Radar Toolkit (Py-ART), an open source\n## library for working with weather radar data. Py-ART is partly\n## supported by the U.S. Department of Energy as part of the Atmospheric\n## Radiation Measurement (ARM) Climate Research Facility, an Office of\n## Science user facility.\n##\n## If you use this software to prepare a publication, please cite:\n##\n##     JJ Helmus and SM Collis, JORS 2016, doi: 10.5334/jors.119\n\n"}],"visibility":"show","key":"qsW0ApVpV2"}],"visibility":"show","key":"hQ991urW93"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Setup our Download Query","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"V915dSYaaN"}],"identifier":"setup-our-download-query","label":"Setup our Download Query","html_id":"setup-our-download-query","implicit":true,"key":"dtUYDgcNTr"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Before downloading our data, we need to make sure we have an ","key":"cBdqDkXtol"},{"type":"abbreviation","title":"Atmospheric Radiation Measurement","children":[{"type":"text","value":"ARM","key":"J3PlYLtjOj"}],"key":"YpwOeeL1ci"},{"type":"text","value":" Data Account, and ","key":"HwtrWBonQP"},{"type":"abbreviation","title":"Atmospheric Radiation Measurement","children":[{"type":"text","value":"ARM","key":"G8vAazHqF5"}],"key":"VPzoc0OphU"},{"type":"text","value":" Live token. Both of these can be found using this link:","key":"HsE9O0alaW"}],"key":"LMTAwaxQW3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://adc.arm.gov/armlive/livedata/home","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"ARM Live Signup","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SQHsd2MXWz"}],"urlSource":"https://adc.arm.gov/armlive/livedata/home","key":"ETSrsUr73l"}],"key":"aiBGBEH4d6"}],"key":"KYMhyACVC8"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Once you sign up, you will see your token. Copy and replace that where we have ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tdxXzWsl01"},{"type":"inlineCode","value":"arm_username","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yVlHdwyCiv"},{"type":"text","value":" and ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"JZoSa0d6uL"},{"type":"inlineCode","value":"arm_password","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Qy3tLTKRGp"},{"type":"text","value":" below.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"udk7ZAE0jD"}],"key":"M4YOW77BXi"}],"key":"D68WxwYWIn"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"arm_username = os.getenv(\"ARM_USERNAME\")\narm_password = os.getenv(\"ARM_PASSWORD\")\n\ndatastream = \"houcsapr2cfrS2.a1\"\n\nstart_date = \"2022-08-07T18:39:04\"\nend_date = \"2022-08-07T18:39:05\"","visibility":"show","key":"XafmZN7iwS"},{"type":"output","id":"BakVRIzlMd_h_5C73yzoB","data":[],"visibility":"show","key":"kMKkyTb4vP"}],"visibility":"show","key":"qRvuTFv9Ey"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Grab Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sSIBJWnwLq"}],"identifier":"grab-data","label":"Grab Data","html_id":"grab-data","implicit":true,"key":"AOfSzCYTci"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We use the ","key":"yyEG74PXVn"},{"type":"abbreviation","title":"Atmospheric Radiation Measurement","children":[{"type":"text","value":"ARM","key":"d6ZCmODxDt"}],"key":"dDQ8VFZOcU"},{"type":"text","value":" Live API, accessible through ACT!","key":"slmz4majvV"}],"key":"HdmmU3nNEe"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://arm-doe.github.io/ACT/API/generated/act.discovery.download_arm_data.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Download Data API","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lYCh2Ca73H"}],"urlSource":"https://arm-doe.github.io/ACT/API/generated/act.discovery.download_arm_data.html","key":"zQqaTAeIWJ"}],"key":"ea77YDCz2z"}],"key":"C9OHLP7xUr"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We are interested in the C-band radar, which is utilizing a cell-tracking algorithm, with the datastream","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"CWflYHXnag"}],"key":"DcPNyRynLr"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"inlineCode","value":"houcsapr2cfrS2.a1","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ZgUYNqGKk0"}],"key":"vOf6mtkZzg"}],"key":"eefn1DLgzV"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"One of the better cases was from June 2, 2022.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"WchvFT24yE"}],"key":"f5SJceoCQf"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"This line will download data into the a new directory with the datastream name (","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"oC3jBRDpn5"},{"type":"inlineCode","value":"/houcsapr2cfrS2.a1","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"UhptZXhi77"},{"type":"text","value":")","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"gwEy424xfq"}],"key":"Qy1DpwKRae"}],"key":"VQgu4d9JWN"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"aug7_csapr_files = act.discovery.download_arm_data(arm_username,\n                                               arm_password,\n                                               datastream,\n                                               start_date,\n                                               end_date)","visibility":"show","key":"w5V7GyXIeP"},{"type":"output","id":"BtsU04ns2e-hvToVr7NOB","data":[{"output_type":"stream","name":"stdout","text":"ARM Data Live Webservice does not appear to be functioning\n"}],"visibility":"show","key":"FcXO5Rr74V"}],"visibility":"show","key":"p9ilBJgepV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Read in and Plot the Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UcIvXX0YoN"}],"identifier":"read-in-and-plot-the-data","label":"Read in and Plot the Data","html_id":"read-in-and-plot-the-data","implicit":true,"key":"loHaDCHH1F"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Before following running the next cells, make sure you have created the following directories:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"f6WWQyYMoD"}],"key":"Mgu6brfONV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"inlineCode","value":"quicklooks","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"f0gdkOhWJU"}],"key":"K4OA1086oa"}],"key":"kSbtarbQ2A"}],"key":"wpXGAthQVX"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"!mkdir quicklooks","visibility":"show","key":"SV41jNxLcb"},{"type":"output","id":"R09xj57BmegRpxCO3EA-M","data":[],"visibility":"show","key":"AwzgbqsbrK"}],"visibility":"show","key":"gJ1YtDJfJI"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"radar_file = \"houcsapr2cfrS2.a1/houcsapr2cfrS2.a1.20220807.183904.nc\"","visibility":"show","key":"fqi2p8mUVr"},{"type":"output","id":"A19fL9R7T8BCeouW5nwd2","data":[],"visibility":"show","key":"Wx9xDrytxH"}],"visibility":"show","key":"zYdQWy29UO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot one of the RHI scans","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tRclSbatxA"}],"identifier":"plot-one-of-the-rhi-scans","label":"Plot one of the RHI scans","html_id":"plot-one-of-the-rhi-scans","implicit":true,"key":"hEdIpoxcS6"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We read in the data corresponding to 7 August 2022 18:39:04 UTC, and plot a basic ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"uncVa2LHrt"},{"type":"inlineCode","value":"RadarDisplay","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"K1KFjHhWvg"},{"type":"text","value":" which will automatically detect whether the plot is a vertical cross section (RHI or VPT), or a horizontal scan (PPI)","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"oE5RlZhl61"}],"key":"qGOzyfGjyz"}],"key":"WA7xhPJJbJ"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"radar = pyart.io.read(radar_file)\ndisplay = pyart.graph.RadarDisplay(radar)\ndisplay.plot(\"reflectivity\", 0)\nplt.savefig(f\"quicklooks/{Path(radar_file).stem}.png\", dpi=200)\nplt.xlim(0,45)\nplt.ylim(0,12)\nplt.show()\nplt.close() ","visibility":"show","key":"Qq88kV9Ts6"},{"type":"output","id":"lsriU1npT0CCJ4XrZurii","data":[{"output_type":"error","traceback":"\u001b[31m---------------------------------------------------------------------------\u001b[39m\n\u001b[31mFileNotFoundError\u001b[39m                         Traceback (most recent call last)\n\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[6]\u001b[39m\u001b[32m, line 1\u001b[39m\n\u001b[32m----> \u001b[39m\u001b[32m1\u001b[39m radar = \u001b[43mpyart\u001b[49m\u001b[43m.\u001b[49m\u001b[43mio\u001b[49m\u001b[43m.\u001b[49m\u001b[43mread\u001b[49m\u001b[43m(\u001b[49m\u001b[43mradar_file\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m      2\u001b[39m display = pyart.graph.RadarDisplay(radar)\n\u001b[32m      3\u001b[39m display.plot(\u001b[33m\"\u001b[39m\u001b[33mreflectivity\u001b[39m\u001b[33m\"\u001b[39m, \u001b[32m0\u001b[39m)\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/radar-cookbook-dev/lib/python3.11/site-packages/pyart/io/auto_read.py:74\u001b[39m, in \u001b[36mread\u001b[39m\u001b[34m(filename, use_rsl, **kwargs)\u001b[39m\n\u001b[32m     22\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mread\u001b[39m(filename, use_rsl=\u001b[38;5;28;01mFalse\u001b[39;00m, **kwargs):\n\u001b[32m     23\u001b[39m \u001b[38;5;250m    \u001b[39m\u001b[33;03m\"\"\"\u001b[39;00m\n\u001b[32m     24\u001b[39m \u001b[33;03m    Read a radar file and return a radar object.\u001b[39;00m\n\u001b[32m     25\u001b[39m \n\u001b[32m   (...)\u001b[39m\u001b[32m     72\u001b[39m \n\u001b[32m     73\u001b[39m \u001b[33;03m    \"\"\"\u001b[39;00m\n\u001b[32m---> \u001b[39m\u001b[32m74\u001b[39m     filetype = \u001b[43mdetermine_filetype\u001b[49m\u001b[43m(\u001b[49m\u001b[43mfilename\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m     76\u001b[39m     \u001b[38;5;66;03m# Bzip, uncompress and see if we can determine the type\u001b[39;00m\n\u001b[32m     77\u001b[39m     \u001b[38;5;28;01mif\u001b[39;00m filetype == \u001b[33m\"\u001b[39m\u001b[33mBZ2\u001b[39m\u001b[33m\"\u001b[39m:\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/radar-cookbook-dev/lib/python3.11/site-packages/pyart/io/auto_read.py:182\u001b[39m, in \u001b[36mdetermine_filetype\u001b[39m\u001b[34m(filename)\u001b[39m\n\u001b[32m    172\u001b[39m \u001b[38;5;66;03m# TODO\u001b[39;00m\n\u001b[32m    173\u001b[39m \u001b[38;5;66;03m# detect the following formats, those supported by RSL\u001b[39;00m\n\u001b[32m    174\u001b[39m \u001b[38;5;66;03m# 'RADTEC', the SPANDAR radar at Wallops Island, VA\u001b[39;00m\n\u001b[32m   (...)\u001b[39m\u001b[32m    179\u001b[39m \n\u001b[32m    180\u001b[39m \u001b[38;5;66;03m# read the first 12 bytes from the file\u001b[39;00m\n\u001b[32m    181\u001b[39m \u001b[38;5;28;01mtry\u001b[39;00m:\n\u001b[32m--> \u001b[39m\u001b[32m182\u001b[39m     f = \u001b[38;5;28;43mopen\u001b[39;49m\u001b[43m(\u001b[49m\u001b[43mfilename\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mrb\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m)\u001b[49m\n\u001b[32m    183\u001b[39m     begin = f.read(\u001b[32m12\u001b[39m)\n\u001b[32m    184\u001b[39m     f.close()\n\n\u001b[31mFileNotFoundError\u001b[39m: [Errno 2] No such file or directory: 'houcsapr2cfrS2.a1/houcsapr2cfrS2.a1.20220807.183904.nc'","ename":"FileNotFoundError","evalue":"[Errno 2] No such file or directory: 'houcsapr2cfrS2.a1/houcsapr2cfrS2.a1.20220807.183904.nc'"}],"visibility":"show","key":"KSWUDMfx0C"}],"visibility":"show","key":"jsqstP4yOr"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define a function to grid the RHI data from polar (antenna) coordinates to a two-dimensional Caretsian grid","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IcoZkg9oO2"}],"identifier":"define-a-function-to-grid-the-rhi-data-from-polar-antenna-coordinates-to-a-two-dimensional-caretsian-grid","label":"Define a function to grid the RHI data from polar (antenna) coordinates to a two-dimensional Caretsian grid","html_id":"define-a-function-to-grid-the-rhi-data-from-polar-antenna-coordinates-to-a-two-dimensional-caretsian-grid","implicit":true,"key":"LvbJwwisPX"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We use numba to vectorize the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"DpHrYIaH15"},{"type":"inlineCode","value":"dist_func","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"kAufWGFbPI"},{"type":"text","value":" function to calculate the distance of each range gate from the radar. This makes our code run faster than simply executing this function for each gate in a for loop.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"BenSpXWCtD"}],"key":"REGl7WhoUs"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Next, we use the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"oDXrD4V0y7"},{"type":"inlineCode","value":"barnes","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"BDvJmQ40y9"},{"type":"text","value":" function from the fastbarnes Python package to interpolate the radar fields such as ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"UgPd5EyhSd"},{"type":"inlineCode","value":"equivalent reflectivity factor","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"MfS9tiXUK8"},{"type":"text","value":" (","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"V0mVhLdGa8"},{"type":"inlineMath","value":"Z_{H}","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Z</mi><mi>H</mi></msub></mrow><annotation encoding=\"application/x-tex\">Z_{H}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.08125em;\">H</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"hXPNOzV6mL"},{"type":"text","value":"), ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"lhDLAtRN5L"},{"type":"inlineCode","value":"differential_reflectivity","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"iy5dr0nwpl"},{"type":"text","value":" (","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Bdb9oJKpTc"},{"type":"inlineMath","value":"Z_{DR}","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Z</mi><mrow><mi>D</mi><mi>R</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Z_{DR}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.00773em;\">R</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"zzOfkNb5i1"},{"type":"text","value":"), and ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"DJFTXDmBCJ"},{"type":"inlineCode","value":"specific_differential_phase","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"z0oJryBagE"},{"type":"text","value":" (","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"U1Ek4mUUDW"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"PAGSh6Kk7W"},{"type":"text","value":") to a uniform range-height Cartesian grid.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"uq6eZWzP0o"}],"key":"ZdKInybKyL"}],"key":"jpwKlkyZww"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"def grid_rhi(file,z_res = 100,rng_res = 100,z_limits = (0,15000),rng_limits = (0,109900.0),fields=None):\n    \n    \"\"\"\n    Input:\n    -------\n    file (str): Path of the RHI scan file that needs to be gridded.\n    z_res (float): Vertical grid spacing of the Cartesian grid.\n    rng_res (float): Horizontal grid spacing of the Cartesian grid.\n    z_limits (tuple): Lower and upper height limits within which radar data needs to be gridded. \n    rng_limits (tuple): Lower and upper range limits within which radar data needs to be gridded. \n    \n    Output:\n    -------\n    grid_ds (xarray Dataset): Xarray dataset containing radar fields on the Cartesian grid\n    \"\"\"\n    \n    z_pts = np.arange(z_limits[0],z_limits[1]+z_res,z_res)\n    rng_pts = np.arange(rng_limits[0],rng_limits[1]+rng_res,rng_res)\n   \n    \n    rhi = xr.open_dataset(file)\n    radar = pyart.io.read(file)\n    rhi = rhi.swap_dims({'time':'elevation'})\n\n    lat = float(radar.latitude[\"data\"])\n    lon = float(radar.longitude[\"data\"])\n\n    grid_origin = (lat, lon)\n    grid_origin_lat, grid_origin_lon = grid_origin\n\n    grid_projection = {\"proj\": \"aeqd\", \"_include_lon_0_lat_0\": True}\n    projparams = grid_projection.copy()\n\n    if projparams.pop(\"_include_lon_0_lat_0\", False):\n        projparams[\"lon_0\"] = grid_origin_lon\n        projparams[\"lat_0\"] = grid_origin_lat\n\n    rg_loc = np.tile(radar.range['data'],len(radar.elevation['data'])).reshape(len(radar.elevation['data']),len(radar.range['data']))\n\n    zg_loc = radar.gate_altitude[\"data\"] - 12 # CSAPR2 antenna altitude = 12 m in this example\n\n     \n    # one of [ 'naive', 'radius', 'convolution', 'optimized_convolution' ]\n    method = \"optimized_convolution\"\n\n    # one of [ 0.25, 0.5, 1.0, 2.0, 4.0 ]\n    sigma = 1.0\n\n    # applies only to 'convolution' interpolations: one of [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 20, 50 ]\n    num_iter = 4\n    \n    if fields is None:\n        fields = ['reflectivity','differential_reflectivity','specific_differential_phase',\n                  'copol_correlation_coeff','mean_doppler_velocity','spectral_width']\n        \n    res_field = np.empty((len(z_pts),len(rng_pts),len(fields)))\n\n    for j in range(len(fields)):\n\n        data = deepcopy(np.array(radar.fields[fields[j]]['data']))\n        # data = data.filled(np.nan)\n\n        res_field[:,:,j] = barnes(np.asarray([rg_loc.ravel(),radar.gate_altitude['data'].ravel()]),\n                           data.ravel(),\n                           100,\n                           np.asarray([0,0]),\n                           100,\n                           (len(z_pts),len(rng_pts)),\n                           method=method,\n                           num_iter = num_iter,\n                           min_weight=0.0002\n                          )\n    \n\n    data_dict = {}\n    for k in range(len(fields)):\n        data_dict[fields[k]] = ([\"z\",\"range\"],res_field[:,:,k])\n\n    grid_ds = xr.Dataset(data_vars=data_dict,\n                         coords=dict(z=([\"z\"], z_pts),\n                                     range=([\"range\"],rng_pts),\n                                    ),\n                         attrs=dict(description=\"Gridded RHI data.\"),\n                        )\n        \n    return grid_ds","visibility":"show","key":"eAtVqrCSQk"},{"type":"output","id":"UBzLo8tgo5LurzlNIDiEQ","data":[],"visibility":"show","key":"GYzgl8wdRD"}],"visibility":"show","key":"rn3RMvFOQo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Apply the gridding function to your radar RHI data file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JPuHpVAPGt"}],"identifier":"apply-the-gridding-function-to-your-radar-rhi-data-file","label":"Apply the gridding function to your radar RHI data file","html_id":"apply-the-gridding-function-to-your-radar-rhi-data-file","implicit":true,"key":"HEGhJ5xz5G"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now, we are ready to grid the RHI data. The ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yaWagqFUuJ"},{"type":"inlineCode","value":"grid_rhi","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ca4nBTilAP"},{"type":"text","value":" function requires the user to specify the vertical and horizontal grid spacing (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XdFGmYbCh6"},{"type":"inlineCode","value":"z_res","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JscwYTe8kt"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OPceo5o5OF"},{"type":"inlineCode","value":"rng_res","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TLzZWfxy6j"},{"type":"text","value":", respectively), as well as the lower and upper limits of the Cartesian grid in the vertical and horizontal dimensions (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tFt4hWiDif"},{"type":"inlineCode","value":"z_limits","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BRqhKhYuVX"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BqKqgedG3D"},{"type":"inlineCode","value":"rng_limits","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iE2w0bM23F"},{"type":"text","value":", respectively). Custom fields of interest can be specified through the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nYJG0xwK53"},{"type":"inlineCode","value":"fields","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IX9gLDyYsh"},{"type":"text","value":" parameter. Otherwise, the function grids five radar fields by default i.e., (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"guU0lYbJRx"},{"type":"inlineMath","value":"Z_{H}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Z</mi><mi>H</mi></msub></mrow><annotation encoding=\"application/x-tex\">Z_{H}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.08125em;\">H</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"XUMjTS8ecL"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mVjXmn1uO6"},{"type":"inlineMath","value":"Z_{DR}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Z</mi><mrow><mi>D</mi><mi>R</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Z_{DR}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.00773em;\">R</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"y2ZTCc76WP"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VoDrmFyprE"},{"type":"inlineMath","value":"\\rho_{hv}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>ρ</mi><mrow><mi>h</mi><mi>v</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\rho_{hv}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ρ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">h</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"qI9k3gejDY"},{"type":"text","value":", ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"X7GO8yVu8n"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"N8SKhOByc1"},{"type":"text","value":", and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pMwQKncHe5"},{"type":"inlineMath","value":"\\sigma","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>σ</mi></mrow><annotation encoding=\"application/x-tex\">\\sigma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span></span></span></span>","key":"mI9LSjhBHZ"},{"type":"text","value":").","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Y302fNkseC"}],"key":"OkPKO1nLAY"}],"key":"dTqwJ7qL5J"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"grid_ds = grid_rhi(radar_file)","visibility":"show","key":"NQDWhhv4uT"},{"type":"output","id":"vqSLXbqSjOBwFUKgB97dM","data":[],"visibility":"show","key":"v3avq7ETUR"}],"visibility":"show","key":"qQFYPDaNzP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Grid and plot the RHI data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"B38RLzJ5Vt"}],"identifier":"grid-and-plot-the-rhi-data","label":"Grid and plot the RHI data","html_id":"grid-and-plot-the-rhi-data","implicit":true,"key":"AwWw1SV7Vr"}],"key":"zPehdrnzsR"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Finally, plot the gridded reflectivity\nfig,ax = plt.subplots()\ngrid_ds['reflectivity'].plot(vmin=0,vmax=70,cmap='HomeyerRainbow',ax=ax)\nax.set_xlim(0,55000)\nax.set_ylim(0,10000)\nplt.show()","visibility":"show","key":"JDfdqpHrGE"},{"type":"output","id":"y2OFs5zJh9gLHTb3UqliS","data":[],"visibility":"show","key":"voTILFx05e"}],"visibility":"show","key":"FwriMFhdcz"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CcADSZBsk8"}],"key":"shdjDZMxk4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wZFtsWU2Fp"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"gftIAcBPPZ"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Within this example, we walked through how to access ","key":"G0Nz1FTYQc"},{"type":"abbreviation","title":"Atmospheric Radiation Measurement","children":[{"type":"text","value":"ARM","key":"N7QvsoFTiX"}],"key":"uiQzBxyfXt"},{"type":"text","value":" data from a field campaign in Texas, plot a quick look of the RHI scan data, and grid our RHI data from native (polar) coordinates to a uniform range-height Caretsian grid.","key":"qkjFj3a5W8"}],"key":"zLcnBtZZpI"}],"key":"YyOvrHbFjh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Resources and References","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"S9Gsz1vyTP"}],"identifier":"resources-and-references","label":"Resources and References","html_id":"resources-and-references","implicit":true,"key":"NwAzpTIxzA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"link","url":"https://adc.arm.gov/discovery","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"ARM Data Discovery","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"l7GlPp0UzK"}],"urlSource":"https://adc.arm.gov/discovery","key":"EE403jPkeG"}],"key":"kUSb8Bc3lW"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"link","url":"https://www.arm.gov/research/campaigns/amf2021tracer","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"TRACER Field Campaign","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"F4QScEOGrs"}],"urlSource":"https://www.arm.gov/research/campaigns/amf2021tracer","key":"tJ9ItKzgKb"}],"key":"bCLU8bm3iK"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"CSAPR Radar Data:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"E9uJ58FgtQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Bharadwaj, N., Collis, S., Hardin, J., Isom, B., Lindenmaier, I., Matthews, A., & Nelson, D. C-Band Scanning ","key":"mhufVT2afI"},{"type":"abbreviation","title":"Atmospheric Radiation Measurement","children":[{"type":"text","value":"ARM","key":"UHEeXNpyDu"}],"key":"CNWde8QVQs"},{"type":"text","value":" Precipitation Radar (CSAPR2CFR). Atmospheric Radiation Measurement (","key":"B1Kt2t8HKW"},{"type":"abbreviation","title":"Atmospheric Radiation Measurement","children":[{"type":"text","value":"ARM","key":"cbrok9WfOj"}],"key":"bEyxY9BowA"},{"type":"text","value":") User Facility. ","key":"mp3M3dQ4Nh"},{"type":"cite","url":"https://doi.org/10.5439/1467901","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Bharadwaj ","key":"DSxSLPbHs6"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"M4qLUrIqFX"}],"key":"kzCPGqaz9o"},{"type":"text","value":" (2021)","key":"i5pGiwZgxZ"}],"kind":"narrative","label":"https://doi.org/10.5439/1467901","identifier":"https://doi.org/10.5439/1467901","enumerator":"2","key":"wcVDidKf5a"}],"key":"El13eE4v4r"}],"key":"TAHIOBYn0X"}],"key":"fWKeWaU963"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Py-ART:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"AUxwyRRC08"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Helmus, J.J. & Collis, S.M., (2016). The Python ","key":"EFlKzvWdKx"},{"type":"abbreviation","title":"Atmospheric Radiation Measurement","children":[{"type":"text","value":"ARM","key":"zCWzYCrTRO"}],"key":"MTBp2MSssF"},{"type":"text","value":" Radar Toolkit (Py-ART), a Library for Working with Weather Radar Data in the Python Programming Language. Journal of Open Research Software. 4(1), p.e25. DOI: ","key":"LcgvwqC17M"},{"type":"cite","url":"http://doi.org/10.5334/jors.119","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Helmus & Collis (2016)","key":"uguCwai0pB"}],"kind":"narrative","label":"Helmus_2016","identifier":"http://doi.org/10.5334/jors.119","enumerator":"3","key":"gmHS3jPzYs"}],"key":"YeptU4BRlo"}],"key":"ykEMQXTRB3"}],"key":"pUDOkDtxvg"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"ACT:","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"K5mHnD7Wiu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Adam Theisen, Ken Kehoe, Zach Sherman, Bobby Jackson, Alyssa Sockol, Corey Godine, Max Grover, Jason Hemedinger, Jenni Kyrouac, Maxwell Levin, Michael Giansiracusa (2022). The Atmospheric Data Community Toolkit (ACT). Zenodo. DOI: ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"qdHUlpAjF7"},{"type":"cite","url":"https://doi.org/10.5281/zenodo.6712343","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Theisen ","key":"mijclBp0vk"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"hOCAHRY7dG"}],"key":"PDZhraCWwM"},{"type":"text","value":" (2022)","key":"m1R3BR9pAX"}],"kind":"narrative","label":"https://doi.org/10.5281/zenodo.6712343","identifier":"https://doi.org/10.5281/zenodo.6712343","enumerator":"4","key":"kwmzTyTFfW"}],"key":"qXdzCNVX7W"}],"key":"I4kY2m1TWD"}],"key":"O4Ek2j1oLo"}],"key":"O4Eaptilpp"}],"key":"v5uB1tAjMq"}],"key":"uTCs4OIwJX"},"references":{"cite":{"order":["Z_rcher_2023","https://doi.org/10.5439/1467901","Helmus_2016","https://doi.org/10.5281/zenodo.6712343"],"data":{"Z_rcher_2023":{"label":"Z_rcher_2023","enumerator":"1","doi":"10.5194/gmd-16-1697-2023","html":"Zürcher, B. K. (2023). Fast approximate Barnes interpolation: illustrated by Python-Numba implementation fast-barnes-py v1.0. <i>Geoscientific Model Development</i>, <i>16</i>(6), 1697–1711. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5194/gmd-16-1697-2023\">10.5194/gmd-16-1697-2023</a>","url":"https://doi.org/10.5194/gmd-16-1697-2023"},"https://doi.org/10.5439/1467901":{"label":"https://doi.org/10.5439/1467901","enumerator":"2","doi":"10.5439/1467901","html":"Bharadwaj, N., Collis, S., Hardin, J., Isom, B., Lindenmaier, I., Matthews, A., Nelson, D., Feng, Y.-C., Rocque, M., Wendler, T., & Castro, V. (2021). <i>C-Band Scanning ARM Precipitation Radar, 2nd Generation</i>. Atmospheric Radiation Measurement (ARM) Archive, Oak Ridge National Laboratory (ORNL), Oak Ridge, TN (US); ARM Data Center, Oak Ridge National Laboratory (ORNL), Oak Ridge, TN (United States). <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5439/1467901\">10.5439/1467901</a>","url":"https://doi.org/10.5439/1467901"},"Helmus_2016":{"label":"Helmus_2016","enumerator":"3","doi":"10.5334/jors.119","html":"Helmus, J. J., & Collis, S. M. (2016). The Python ARM Radar Toolkit (Py-ART), a Library for Working with Weather Radar Data in the Python Programming Language. <i>Journal of Open Research Software</i>, <i>4</i>(1), 25. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5334/jors.119\">10.5334/jors.119</a>","url":"https://doi.org/10.5334/jors.119"},"https://doi.org/10.5281/zenodo.6712343":{"label":"https://doi.org/10.5281/zenodo.6712343","enumerator":"4","doi":"10.5281/ZENODO.6712343","html":"Theisen, A., Kehoe, K., Sherman, Z., Jackson, B., Sockol, A., Godine, C., Grover, M., Hemedinger, J., Kyrouac, J., Levin, M., & Giansiracusa, M. (2022). <i>ARM-DOE/ACT: ACT Release v1.1.9</i>. Zenodo. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5281/ZENODO.6712343\">10.5281/ZENODO.6712343</a>","url":"https://doi.org/10.5281/ZENODO.6712343"}}}},"footer":{"navigation":{"prev":{"title":"Data Quality Check from the CACTI Field Campaign","url":"/notebooks/example-workflows/cacti-data-quality-example","group":"Example Workflows"},"next":{"title":"Echo top height calculation from NEXRAD PPI volume data:","url":"/notebooks/example-workflows/echo-top-height","group":"Example Workflows"}}},"domain":"http://localhost:3000"}