{"version":2,"kind":"Notebook","sha256":"111dd0c0d68a55ac84e416525b1d4855857e8c3f8605ce50d0290121923fe82d","slug":"notebooks.example-workflows.kdp-comparison","location":"/notebooks/example-workflows/kdp-comparison.ipynb","dependencies":[],"frontmatter":{"title":"Specific Differential Phase (K_{DP}) retrieval methods comparison","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Max Grover","given":"Max","family":"Grover"},"name":"Max Grover","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Zachary Sherman","given":"Zachary","family":"Sherman"},"name":"Zachary Sherman","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Milind Sharma","given":"Milind","family":"Sharma"},"name":"Milind Sharma","id":"contributors-myst-generated-uid-2"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/projectpythia/radar-cookbook","copyright":"2024","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"abbreviations":{"ARM":"Atmospheric Radiation Measurement"},"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/radar-cookbook/blob/main/notebooks/example-workflows/kdp-comparison.ipynb","thumbnail":"/radar-cookbook/build/kdp_comparison-aadf585a60d61c8195a56c4208a17412.jpg","exports":[{"format":"ipynb","filename":"kdp-comparison.ipynb","url":"/radar-cookbook/build/kdp-comparison-5e14b2ba374a34724ee0defd60bdf2e4.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"image","url":"/radar-cookbook/build/kdp_comparison-aadf585a60d61c8195a56c4208a17412.jpg","alt":"KDP Comparison","width":700,"key":"oYpqghPCFJ","urlSource":"../images/kdp_comparison.jpg"}],"key":"lrLcfpec94"}],"key":"wF7q6qHJbh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Specific Differential Phase (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"geEkm6YbQG"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"oVXmyyvreh"},{"type":"text","value":") retrieval methods comparison","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"clAeMjsxe6"}],"identifier":"specific-differential-phase-k-dp-retrieval-methods-comparison","label":"Specific Differential Phase (K_{DP}) retrieval methods comparison","html_id":"specific-differential-phase-k-dp-retrieval-methods-comparison","implicit":true,"key":"b97AGmqS8g"}],"key":"v8OqUxgrzk"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CJ2EEHEvrW"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"H6A0OEMXHT"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Within this notebook, we will cover:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"E6IwJfD5w8"}],"key":"vvIj6GKo6k"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"How to access Colombian national weather radar network data from AWS","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Ncr1z44yCA"}],"key":"DTMLVfTdzY"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"How to read and create a multipanel plot","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"q3z9sF0ygw"}],"key":"FP20QSkmCD"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"How to retrieve and compare three different methods","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"NcqkZXs4V9"}],"key":"Rs09tnQzqG"}],"key":"x5wdVxxq7a"}],"key":"eMm1VSRujC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jbyn8crYMd"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"YcVsJG4Fuj"},{"type":"table","position":{"start":{"line":2,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"x74c73EbWg"}],"key":"eqcpkCdGtu"},{"type":"tableCell","header":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"qiiLZQaaBl"}],"key":"H1vc6FqhAA"},{"type":"tableCell","header":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"KKcv13Egki"}],"key":"MQQ1YH3dPQ"}],"key":"rR1ywKZqEB"},{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/matplotlib/matplotlib-basics","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Matplotlib Basics","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"OaCxgOZMoV"}],"urlSource":"https://foundations.projectpythia.org/core/matplotlib/matplotlib-basics","key":"bdGgC1CkVs"}],"key":"WDfSylylsq"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Required","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"QBvIbtI40l"}],"key":"pVBzs3xqYo"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Basic plotting","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ftOEgk6HfV"}],"key":"ZOpTThym5p"}],"key":"WXMTgzZrlK"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/cartopy/cartopy","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Introduction to Cartopy","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"uN0GJ46F0Y"}],"urlSource":"https://foundations.projectpythia.org/core/cartopy/cartopy","key":"pxCZBfKc9j"}],"key":"EXvCndTeHZ"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QMxtqAGoIp"}],"key":"x4BUCrviS0"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Adding projections to your plot","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"HkbkJBBZRQ"}],"key":"D2jAb2PSOI"}],"key":"H3r3BHJWc1"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"/notebooks/foundations/pyart-basics","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Py-ART Basics","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"rYdP85dPbV"}],"urlSource":"../foundations/pyart-basics","dataUrl":"/notebooks.foundations.pyart-basics.json","internal":true,"protocol":"file","key":"noOSGHxnvW"}],"key":"nlDWkfTTI6"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Required","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"FJ49DC3BAc"}],"key":"FlM8iTSASP"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"IO/Visualization","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"YKwk7q7lO5"}],"key":"QPeagPYl9Y"}],"key":"RYvjKrbwPA"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"/notebooks/foundations/pyart-corrections","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Py-ART Corrections","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"L6Txu9xywq"}],"urlSource":"../foundations/pyart-corrections","dataUrl":"/notebooks.foundations.pyart-corrections.json","internal":true,"protocol":"file","key":"wGkRGs8MTJ"}],"key":"l2Ae7VNM3Q"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Required","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"l3fVgTgttV"}],"key":"xoNuah5h6I"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Radar Corrections","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"qAeVS4jmu8"}],"key":"A6cRrROqux"}],"key":"WfP7Sw7Akm"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"../Example-workflows/cacti-data-quality-example","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Py-ART Example-workflows","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"beksOt9GIq"}],"urlSource":"../Example-workflows/cacti-data-quality-example","key":"KNlFQfGhLO"}],"key":"SbnULX4slW"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Required","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"XwBVD7j98U"}],"key":"vkUmcOq56d"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Dual-polarization variables","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"inuQ11EzzZ"}],"key":"ez3916yhTt"}],"key":"AWBjfIyXCi"}],"key":"GHHNj7ZQNk"},{"type":"thematicBreak","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"mjFd0wCiBm"}],"key":"EscMcgZFtX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"W1fr2rDgDp"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"QKofEeOEpk"}],"key":"uw0XLFjodg"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import xradar as xd\nimport pyart\nimport xarray as xr\nimport numpy as np\nimport fsspec\nimport matplotlib.pyplot as plt\nimport cartopy.crs as ccrs\nfrom open_radar_data import DATASETS\nimport matplotlib.ticker as mticker\nimport warnings\n\nwarnings.filterwarnings(\"ignore\")","visibility":"show","key":"tmSUacmHQj"},{"type":"output","id":"fgFrbq_4urFQC1KTXr1Db","data":[{"output_type":"stream","name":"stdout","text":"\n## You are using the Python ARM Radar Toolkit (Py-ART), an open source\n## library for working with weather radar data. Py-ART is partly\n## supported by the U.S. Department of Energy as part of the Atmospheric\n## Radiation Measurement (ARM) Climate Research Facility, an Office of\n## Science user facility.\n##\n## If you use this software to prepare a publication, please cite:\n##\n##     JJ Helmus and SM Collis, JORS 2016, doi: 10.5334/jors.119\n\n"}],"visibility":"show","key":"LOGH7gXpnu"}],"visibility":"show","key":"s4XeFANatk"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"How to access Colombian national weather radar network data from AWS","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QqZWBQwm8T"}],"identifier":"how-to-access-colombian-national-weather-radar-network-data-from-aws","label":"How to access Colombian national weather radar network data from AWS","html_id":"how-to-access-colombian-national-weather-radar-network-data-from-aws","implicit":true,"key":"UYPe1QW3cb"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s start first with Level 2 radar data, which is ground-based radar data collected by the Instituto de Hidrología, Meteorología y Estudios Ambientales (IDEAM).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vZnmKknvze"}],"key":"JU2WyUa1c0"}],"visibility":"show","key":"jr2uuGj4Nb"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Level 2 Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ax4aRz1OWj"}],"identifier":"level-2-data","label":"Level 2 Data","html_id":"level-2-data","implicit":true,"key":"wutLqzErBJ"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Level 2 data includes all of the fields in a single file - for example, a file may include:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"igLRXJtZmN"}],"key":"NFG3JHbvym"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Reflectivity","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"f7WIMDNrwf"}],"key":"vpGglZ1NVx"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Velocity","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"bOkCFvIgqI"}],"key":"YpLEeyusbl"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Differential reflectivity","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ogK2XRDFwe"}],"key":"YWObqqH8JN"}],"key":"vn3XYFLs2W"}],"visibility":"show","key":"EIa94WOog2"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Search for data during a Mesoscale Convective System - MCS event (August 9, 2022)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ChYna6XnaY"}],"identifier":"search-for-data-during-a-mesoscale-convective-system-mcs-event-august-9-2022","label":"Search for data during a Mesoscale Convective System - MCS event (August 9, 2022)","html_id":"search-for-data-during-a-mesoscale-convective-system-mcs-event-august-9-2022","implicit":true,"key":"qEEhikB95w"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We will access data from the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LxvkaXsrXm"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"inlineCode","value":"radaresideam bucket","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"y3fAWY7HEI"}],"key":"s60r10hNS4"},{"type":"text","value":", with the data organized as:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mxGkfHZUcY"}],"key":"ibUiYbD98g"},{"type":"code","lang":"","value":"s3://s3-radaresideam/l2_data/year/month/date/radar_name/{radar_name[:3].upper()}{year}{month}{date}{hour}{minute}{second}.RAW*","position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"key":"aPz4HBYDhs"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"We can use ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"PNy2LmCfEn"},{"type":"link","url":"https://filesystem-spec.readthedocs.io/en/latest/","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"fsspec","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"wu6lMLXfmJ"}],"urlSource":"https://filesystem-spec.readthedocs.io/en/latest/","key":"h6oS7N5g5Y"},{"type":"text","value":", a tool to work with filesystems in Python, to search through the bucket to find our files!","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"HBfgQ7HOzf"}],"key":"mGW58eLB4L"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"We start first by setting up our ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"UIBbFdR7gd"},{"type":"link","url":"https://aws.amazon.com/s3/","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"AWS S3 filesystem","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"kaDpNr4l5b"}],"urlSource":"https://aws.amazon.com/s3/","key":"BZJEvnqLEI"}],"key":"FTqrcX5EVz"}],"key":"CIv0VXsMwC"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fs = fsspec.filesystem(\"s3\", anon=True)","visibility":"show","key":"onbS6l8eSM"},{"type":"output","id":"hMPHZC2DtmizI9-9RVWoL","data":[],"visibility":"show","key":"N0qaK81Kgy"}],"visibility":"show","key":"q6LkXp2V6j"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now, we can list files from August 9, 2022, from Carimagua radar (CAR), around 1900 UTC.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Zk7WFwAAax"}],"key":"tjqn3F6Pd1"}],"key":"GEHbYd6R3I"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"files = sorted(fs.glob(\"s3-radaresideam/l2_data/2022/08/09/Carimagua/CAR22080919*\"))\nfiles[:4]","visibility":"show","key":"mcPEFqEsdY"},{"type":"output","id":"1vyXpIOkCCmvjmHKxD4Qh","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"['s3-radaresideam/l2_data/2022/08/09/Carimagua/CAR220809190003.RAWDSVV',\n 's3-radaresideam/l2_data/2022/08/09/Carimagua/CAR220809190315.RAWDSW0',\n 's3-radaresideam/l2_data/2022/08/09/Carimagua/CAR220809190401.RAWDSW3',\n 's3-radaresideam/l2_data/2022/08/09/Carimagua/CAR220809190505.RAWDSW8']","content_type":"text/plain"}}}],"visibility":"show","key":"amZ9OhCI8w"}],"visibility":"show","key":"ww2eyJZZrO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Read the data into Py-ART","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"StAnulvSht"}],"identifier":"read-the-data-into-py-art","label":"Read the data into Py-ART","html_id":"read-the-data-into-py-art","implicit":true,"key":"DCOqUaLbQD"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"When reading into Py-ART, we can use the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"UTiRhm8GPs"},{"type":"inlineCode","value":"pyart.io.read_sigmet","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"QsPZ62GrWz"},{"type":"text","value":" or ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"sG9FOohhhU"},{"type":"inlineCode","value":"pyart.io.read","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ms3cs1K7v3"},{"type":"text","value":" module to read in our data.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"HR2PAuUOle"}],"key":"jKwIMEBMsP"}],"key":"dyAiaeHBXJ"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"radar = pyart.io.read_sigmet(f's3://{files[7]}')","visibility":"show","key":"FH8wNaXGq7"},{"type":"output","id":"KyLN_ItzaPjV_YHnbExfA","data":[],"visibility":"show","key":"r4afabTVX3"}],"visibility":"show","key":"d21QAIHbnH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"List the available fields","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vX3LcwEOEJ"}],"identifier":"list-the-available-fields","label":"List the available fields","html_id":"list-the-available-fields","implicit":true,"key":"XqHWBqVBvP"}],"key":"k4gRcXyu0E"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"sorted(list(radar.fields))","visibility":"show","key":"kmMFkb9R3E"},{"type":"output","id":"Y52k8xBFlD_Qvu-WB1_v3","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"['cross_correlation_ratio',\n 'differential_phase',\n 'differential_reflectivity',\n 'normalized_coherent_power',\n 'radar_echo_classification',\n 'reflectivity',\n 'specific_differential_phase',\n 'spectrum_width',\n 'total_power',\n 'velocity']","content_type":"text/plain"}}}],"visibility":"show","key":"riOXfPD8AB"}],"visibility":"show","key":"oWrNd9OZsq"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot dual-pol variables","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"psCGwR7bT4"}],"identifier":"plot-dual-pol-variables","label":"Plot dual-pol variables","html_id":"plot-dual-pol-variables","implicit":true,"key":"roqFKTI2Vi"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Let’s plot the radar reflectivity (","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"BHnT18OtTC"},{"type":"inlineMath","value":"Z","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span></span></span></span>","key":"jF0SzR0O7B"},{"type":"text","value":"), differential reflectivity (","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"A38kVrUOHo"},{"type":"inlineMath","value":"Z_{DR}","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Z</mi><mrow><mi>D</mi><mi>R</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Z_{DR}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.00773em;\">R</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"U0gFnkokd6"},{"type":"text","value":"), specific differential phase (","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"t5gK9s8w89"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"KUYBHLIF0l"},{"type":"text","value":"), and cross correlation ratio (","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Hn3HZk9Veh"},{"type":"inlineMath","value":"\\rho_{HV}","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>ρ</mi><mrow><mi>H</mi><mi>V</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\rho_{HV}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ρ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.08125em;\">H</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">V</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"i1kRnByMo7"},{"type":"text","value":") using a four panel plot.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"FMQwbk0qgS"}],"key":"X0M4Oilhh7"}],"key":"y5WVPBufaO"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig = plt.figure(figsize=(12,10))\ndisplay = pyart.graph.RadarMapDisplay(radar)\n# Extract the latitude and longitude of the radar and use it for the center of the map\nlat_center = round(radar.latitude['data'][0], 0)\nlon_center = round(radar.longitude['data'][0], 0)\n\n\n# Determine the ticks\nlat_ticks = np.arange(lat_center-3, lat_center+3, 1.5)\nlon_ticks = np.arange(lon_center-3, lon_center+3, 1.5)\n\n# Set the projection - in this case, we use a general PlateCarree projection\nprojection = ccrs.PlateCarree()\nax1 = plt.subplot(221, projection=projection)\ndisplay.plot_ppi_map(\"reflectivity\", 0, \n                     resolution='10m', \n                     ax=ax1, \n                     lat_lines=lat_ticks, \n                     lon_lines=lon_ticks)\n\nax2 = plt.subplot(222, projection=projection)\ndisplay.plot_ppi_map(\"differential_reflectivity\", 0, \n                     resolution='10m', \n                     ax=ax2, \n                     lat_lines=lat_ticks, \n                     lon_lines=lon_ticks)\n\nax3 = plt.subplot(223, projection=projection)\ndisplay.plot_ppi_map(\"differential_phase\", 0, \n                     vmin=0, vmax=180,  \n                     ax=ax3, resolution='10m', \n                     lat_lines=lat_ticks, \n                     lon_lines=lon_ticks)\n\nax4 = plt.subplot(224, projection=projection)\ndisplay.plot_ppi_map(\"specific_differential_phase\", 0, \n                     vmin=0, vmax=10,  \n                     ax=ax4, resolution='10m', \n                     lat_lines=lat_ticks, \n                     lon_lines=lon_ticks)\nplt.tight_layout()","visibility":"show","key":"UrJtX1Hnl6"},{"type":"output","id":"VoQag2RtHvxd-4Kxm_giR","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1200x1000 with 8 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"77da49b23f9637780d871dc825cdc32f","path":"/radar-cookbook/build/77da49b23f9637780d871dc825cdc32f.png"}}}],"visibility":"show","key":"efz7CIcbgB"}],"visibility":"show","key":"lZku7INdzs"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can notice from the previous figure that this is a intense precipitation event in Colombia with reflectivity values up to +55 dBZ, big raindrops (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GgqfNR0qe2"},{"type":"inlineMath","value":"Z_{DR}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Z</mi><mrow><mi>D</mi><mi>R</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Z_{DR}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.00773em;\">R</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"K809KRHG2J"},{"type":"text","value":" +3 dB), heavy rainfall rates with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HzgTtGlK7n"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"k79GQOcaHK"},{"type":"text","value":" +10 dB/km, and multiples foldings in differential phase (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GniRxajBM8"},{"type":"inlineMath","value":"Phi_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>h</mi><msub><mi>i</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Phi_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\">h</span><span class=\"mord\"><span class=\"mord mathnormal\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"JLwUk0I9Cr"},{"type":"text","value":"). We can notice negative values in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iQoDuiU8Bb"},{"type":"inlineMath","value":"Z_{DR}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Z</mi><mrow><mi>D</mi><mi>R</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Z_{DR}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.00773em;\">R</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"zjYEcw4gLU"},{"type":"text","value":" panel (differential attenuation) in the north-east side of the radar location.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D7SPcEfeRm"}],"key":"vmvAZNfoJi"}],"key":"hE4MBeGNHt"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"MuGeUJEGj1"},{"type":"text","value":" retrieval methods","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HM0xMsHcXQ"}],"identifier":"k-dp-retrieval-methods","label":"K_{DP} retrieval methods","html_id":"k-dp-retrieval-methods","implicit":true,"key":"YPuf4JYCf1"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Although the radar data already contains the specific differential phase (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pXhDJ0iwYC"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"jnJx72lyt5"},{"type":"text","value":"), we can use the following alternative methods for comparison:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"amgleotoNJ"}],"key":"uOb17YDVLr"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Variational method by Maesaka et al. (2012).","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"TQmwVED9AW"}],"key":"MAfarV2tYc"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Kalman filter method by Schneebeli and al. (2014)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"iSchVNOUyy"}],"key":"KytLDEPGoM"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Vulpiani method by Vulpiani et al. (2012)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"jPcReN1n3g"}],"key":"AHkQ9v2zJ4"}],"key":"wMgV4IoDMw"}],"visibility":"show","key":"fc18Gs9PE3"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o2FxPBe0nq"},{"type":"inlineCode","value":"Py-Art","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lGyCBO1jX5"},{"type":"text","value":" Python package includes all the methods mentioned above. We can access the retrieval methods using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o2E8zlwrKp"},{"type":"inlineCode","value":"pyart.retrieve.kdp_maesaka","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JshMRlGelo"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mxrPAKJJpi"},{"type":"inlineCode","value":"pyart.retrieve.kdp_schneebeli","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BpuMZDsiLk"},{"type":"text","value":", and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"btVo5F5sKw"},{"type":"inlineCode","value":"pyart.retrieve.kdp_vulpiani","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NJcOhlShZV"},{"type":"text","value":". The output from all retrieval methods is a tuple with two dictionaries that contain the retrieved ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x841JxkZ28"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"TrQAUbSiHU"},{"type":"text","value":" as well as the Differential phase (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x64iUkNnDt"},{"type":"inlineMath","value":"Phi_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>h</mi><msub><mi>i</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Phi_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\">h</span><span class=\"mord\"><span class=\"mord mathnormal\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"iVYl1wq0wf"},{"type":"text","value":").","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fgeMNPDD9A"}],"key":"Tk3DYnNeJJ"}],"visibility":"show","key":"xl3bWXvF2D"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%%time\nkdp_maesaka= pyart.retrieve.kdp_maesaka(radar)","visibility":"show","key":"FjDnW5oJZ8"},{"type":"output","id":"SY9UibJInqYSzgiLWUmKO","data":[{"output_type":"stream","name":"stdout","text":"CPU times: user 20.1 s, sys: 153 ms, total: 20.3 s\nWall time: 11 s\n"}],"visibility":"show","key":"esJN4Bp8wZ"}],"visibility":"show","key":"cxUQYdMUye"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%%time\nkdp_schneebeli = pyart.retrieve.kdp_schneebeli(radar, band='C', parallel=True)","visibility":"show","key":"Ay71vyyUuu"},{"type":"output","id":"M-rOexg6ozWT9vSakGpql","data":[{"output_type":"stream","name":"stdout","text":"CPU times: user 136 ms, sys: 332 ms, total: 468 ms\nWall time: 4min 5s\n"}],"visibility":"show","key":"h4jjqTi3gX"}],"visibility":"show","key":"WRasllGCf2"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%%time\nkdp_vulpiani = pyart.retrieve.kdp_vulpiani(radar, band='C', parallel=True)","visibility":"show","key":"Tqk6uk6e7I"},{"type":"output","id":"oU0VyQlAqvT4_shnZ-p9d","data":[{"output_type":"stream","name":"stdout","text":"CPU times: user 134 ms, sys: 330 ms, total: 465 ms\nWall time: 905 ms\n"}],"visibility":"show","key":"EFhWJnZKVF"}],"visibility":"show","key":"ohBmNjlcJh"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This is how a dictionary with the retrieve ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AoOEqxc0SS"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"f7yIQ9HF0X"},{"type":"text","value":" looks like","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KcXbQdgBUq"}],"key":"MlLFNg1NO3"}],"key":"GOb4haAqoX"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"kdp_vulpiani[0]","visibility":"show","key":"H8L62CffSC"},{"type":"output","id":"lpNvgyLFOXptWtKTeWXPp","data":[{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/plain":{"content":"{'units': 'degrees/km',\n 'standard_name': 'specific_differential_phase_hv',\n 'long_name': 'Specific differential phase (KDP)',\n 'coordinates': 'elevation azimuth range',\n 'data': masked_array(\n   data=[[0.0, 0.0, 0.0, ..., --, --, --],\n         [0.0, 0.0, 0.0, ..., --, --, --],\n         [0.0, 0.0, 0.0, ..., --, --, --],\n         ...,\n         [0.0, 0.0, 0.0, ..., --, --, --],\n         [0.0, 0.0, 0.0, ..., --, --, --],\n         [0.0, 0.0, 0.0, ..., --, --, --]],\n   mask=[[False, False, False, ...,  True,  True,  True],\n         [False, False, False, ...,  True,  True,  True],\n         [False, False, False, ...,  True,  True,  True],\n         ...,\n         [False, False, False, ...,  True,  True,  True],\n         [False, False, False, ...,  True,  True,  True],\n         [False, False, False, ...,  True,  True,  True]],\n   fill_value=-9999.0)}","content_type":"text/plain"}}}],"visibility":"show","key":"JXS4O6d4Pc"}],"visibility":"show","key":"Iq5fSOHGRV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Add the new retrieved ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"A9MSxJUl2d"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"vEIDpYvuTJ"},{"type":"text","value":" values to the radar object","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ExVemCOcOK"}],"identifier":"add-the-new-retrieved-k-dp-values-to-the-radar-object","label":"Add the new retrieved K_{DP} values to the radar object","html_id":"add-the-new-retrieved-k-dp-values-to-the-radar-object","implicit":true,"key":"YZkzweUtcF"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We can add new fields to our ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Ns529DBLsx"},{"type":"inlineCode","value":"Py-Art","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"fqVALTKn6r"},{"type":"text","value":" radar object by using the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YqZUSFgkwA"},{"type":"inlineCode","value":"pyart.core.Radar.add_field","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"X9b4oPsJHw"},{"type":"text","value":" method as follows","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"nVjFGaYZXW"}],"key":"W5hpsI19kW"}],"key":"ijMN8BG7ux"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"radar.add_field('kdp_maesaka', kdp_maesaka[0])\nradar.add_field('phidp_maesaka', kdp_maesaka[1])\nradar.add_field('kdp_schneebeli', kdp_schneebeli[0])\nradar.add_field('phidp_schneebeli', kdp_schneebeli[1])\nradar.add_field('kdp_vulpiani', kdp_vulpiani[0])\nradar.add_field('phidp_vulpiani', kdp_vulpiani[1])","visibility":"show","key":"A8qAPv7v7d"},{"type":"output","id":"kvtG7nWqD8ceuDigmImyy","data":[],"visibility":"show","key":"g5EDMB34MJ"}],"visibility":"show","key":"N2XMwyTDiy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"List the new fields/variables","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BBVWrfgfzw"}],"identifier":"list-the-new-fields-variables","label":"List the new fields/variables","html_id":"list-the-new-fields-variables","implicit":true,"key":"YqbkGNIl84"}],"key":"zQNILGDC5O"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"sorted(list(radar.fields))","visibility":"show","key":"m8Nk9lXvC7"},{"type":"output","id":"jdqWb0QF-M3jDYiAwAHuv","data":[{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/plain":{"content":"['cross_correlation_ratio',\n 'differential_phase',\n 'differential_reflectivity',\n 'kdp_maesaka',\n 'kdp_schneebeli',\n 'kdp_vulpiani',\n 'normalized_coherent_power',\n 'phidp_maesaka',\n 'phidp_schneebeli',\n 'phidp_vulpiani',\n 'radar_echo_classification',\n 'reflectivity',\n 'specific_differential_phase',\n 'spectrum_width',\n 'total_power',\n 'velocity']","content_type":"text/plain"}}}],"visibility":"show","key":"Qh6UtLGGlt"}],"visibility":"show","key":"yIc1VXH3su"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Compare default and retrieved ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TJbpbtDR9W"},{"type":"inlineMath","value":"Phi_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>h</mi><msub><mi>i</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Phi_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\">h</span><span class=\"mord\"><span class=\"mord mathnormal\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"a17W1ppGkD"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uG310UsHka"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"x5hJOWtUSW"}],"identifier":"compare-default-and-retrieved-phi-dp-and-k-dp","label":"Compare default and retrieved Phi_{DP} and K_{DP}","html_id":"compare-default-and-retrieved-phi-dp-and-k-dp","implicit":true,"key":"FeqvTpUpsD"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We can look at the difference between all the methods using a side-by-side comparison figure","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"SPifRHXPbf"}],"key":"K8ZM49YWDd"}],"key":"f0cuDHwXTH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# list of the variables to be plotted\nvpol = ['specific_differential_phase', 'kdp_maesaka', 'kdp_schneebeli', 'kdp_vulpiani',\n        'differential_phase', 'phidp_maesaka', 'phidp_schneebeli', 'phidp_vulpiani']\n# list of cmaps\ncmaps = ['Carbone42'] * 4 + ['Wild25'] * 4\n\n# list of maximum values\nvmaxs = [10] * 4 + [180]  * 4 \n\n# list of tltles\ntitles = [r\"$K_{DP} \\ Default$\", r\"$K_{DP} \\ Maesaka$\", r\"$K_{DP} \\ Schneebeli$\", r\"$K_{DP} \\ Vulpiani$\", \n          r\"$Phi_{DP} \\ Default$\", r\"$Phi_{DP} \\ Maesaka$\", r\"$Phi_{DP} \\ Schneebeli$\", r\"$Phi_{DP} \\ Vulpiani$\"]\n\n# display object from PyArt\ndisplay = pyart.graph.RadarMapDisplay(radar)\nfig, axs = plt.subplots(2, 4, figsize=(14,6), subplot_kw={'projection': ccrs.PlateCarree()}, sharey=True, sharex=True)\n\n# Extract the latitude and longitude of the radar and use it for the center of the map\nlat_center = round(radar.latitude['data'][0], 0)\nlon_center = round(radar.longitude['data'][0], 0)\n\n# Set the projection - in this case, we use a general PlateCarree projection\nprojection = ccrs.PlateCarree()\n\n# Determine the ticks\nlat_ticks = np.arange(lat_center-3, lat_center+3, 1.5)\nlon_ticks = np.arange(lon_center-3, lon_center+3, 1.5)\n\n#make axis flatten for iteration\naxis = axs.flatten()\n# Loop to create all plots\nfor idx, ax in enumerate(axis):\n    display.plot_ppi_map(vpol[idx], 0, resolution='10m', ax=ax, \n                         lat_lines=lat_ticks, \n                         lon_lines=lon_ticks,\n                         cmap=cmaps[idx],\n                         vmin=0, \n                         vmax=vmaxs[idx],\n                         colorbar_flag=False, \n                         title_flag=False, \n                         add_grid_lines=False)\n    ax.set_title(titles[idx])\n    gl = ax.gridlines(draw_labels=True, rasterized=True)\n    gl.xlocator = mticker.FixedLocator(lon_ticks)\n    gl.ylabels_right = False\n    gl.xlabels_top = False\n    gl.ylabels_left = False\n    gl.xlabels_bottom = False\n    if (idx == 0) | (idx== 4):\n        gl.ylabels_left = True\n    if  idx>= 4:\n        gl.xlabels_bottom = True\n\nfig.tight_layout()\nfig.colorbar(display.plots[0], ax=axis[:4], pad=.01, label='$Specific \\ differential \\  phase  \\ [deg/km]$')\nfig.colorbar(display.plots[-1], ax=axis[-4:], pad=.01, label='$Differential \\ phase  \\ [deg]$')\n# fig.savefig('../images/kdp_comparison.jpg')","key":"V2yEwcXUMQ"},{"type":"output","id":"N2KXI8I-ASSvtDwvf2EO9","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1400x600 with 10 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"12a54698fdb2a97e91e7f37b0776e604","path":"/radar-cookbook/build/12a54698fdb2a97e91e7f37b0776e604.png"}}}],"key":"Hc7Ct61d4G"}],"key":"i7SKBM9mkE"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the top row, we can see the Specific Differential Phase (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PFZ4T0y98R"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"sY4wUryoXt"},{"type":"text","value":"), and in the bottom row, the Differential Phase (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bdB3bJVdVX"},{"type":"inlineMath","value":"Phi_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>h</mi><msub><mi>i</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Phi_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\">h</span><span class=\"mord\"><span class=\"mord mathnormal\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"vuysj5LaMs"},{"type":"text","value":"). We can notice that the default ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jLNAukYHl7"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"T0fMPoE1Gj"},{"type":"text","value":" shows values +10 deg/km, which we think is too high. On the other hand, Maesake’s and Scneebeli’s methods’ output suggests that they are probably not performing well. However, the Vulpiani method performs better since we can observe more realistic values on ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"v3Dl46JGdI"},{"type":"inlineMath","value":"K_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"BZ6LDdNKVE"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"F4cQSVml3z"},{"type":"inlineMath","value":"Phi_{DP}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>h</mi><msub><mi>i</mi><mrow><mi>D</mi><mi>P</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Phi_{DP}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8444em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\">h</span><span class=\"mord\"><span class=\"mord mathnormal\">i</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"PxgsB9vKQF"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YhB6jKTBD4"}],"key":"xeNcnhXDNB"}],"key":"dssNtz93Vf"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"admonition alert alert-warning","children":[{"type":"paragraph","children":[{"type":"text","value":"Warning","key":"ncG01iy1PD"}],"key":"oN1JGWgvkS"},{"type":"text","value":"This notebook is intended to be demonstrative; therefore, we can not make any conclusions regarding the methods we tested.","key":"OO72gc6oW9"}],"key":"iMvXbajyWP"}],"key":"UrcYMXuMe0"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FfP2kqBDvg"},{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EZFHJ3MTil"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"tQCsspBHES"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Within this example, we walked through how to access Colombian radar data from IDEAM, plot a quick look of the data, and compare the the specific differential phase using the default and three different methods!","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"kndWFFjLwX"}],"key":"VYgK8jRGod"},{"type":"heading","depth":3,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"What’s Next?","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qRf7MkxTGg"}],"identifier":"whats-next","label":"What’s Next?","html_id":"whats-next","implicit":true,"key":"FKZAlk5kyx"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"We will showcase other data workflow examples, including field campaigns in other regions and data access methods from other data centers.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Hav1xM7dZq"}],"key":"sn3g7vrtUF"}],"key":"NxYmp2LVDz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Resources and References","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JwelLdFbrU"}],"identifier":"resources-and-references","label":"Resources and References","html_id":"resources-and-references","implicit":true,"key":"wFYEHcxgLN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"link","url":"https://registry.opendata.aws/ideam-radares/","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"IDEAM radar data","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"cf8mOIHiXY"}],"urlSource":"https://registry.opendata.aws/ideam-radares/","key":"UNMaWxLkuJ"}],"key":"LmVDPosaHe"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Py-ART:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xyHajn3fE8"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Helmus, J.J. & Collis, S.M., (2016). The Python ","key":"QMFx3VQTd6"},{"type":"abbreviation","title":"Atmospheric Radiation Measurement","children":[{"type":"text","value":"ARM","key":"WHKYIhPPM9"}],"key":"CMXW9jE9Go"},{"type":"text","value":" Radar Toolkit (Py-ART), a Library for Working with Weather Radar Data in the Python Programming Language. Journal of Open Research Software. 4(1), p.e25. DOI: ","key":"JvrWYZ3cxB"},{"type":"cite","url":"http://doi.org/10.5334/jors.119","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Helmus & Collis (2016)","key":"JnQsQAREng"}],"kind":"narrative","label":"Helmus_2016","identifier":"http://doi.org/10.5334/jors.119","enumerator":"1","key":"B2vtCTNcmy"}],"key":"RAQMjqiTLP"}],"key":"RirjBkLaFs"}],"key":"aOzMbiIbC3"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"ACT:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qB8rImX7K0"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Adam Theisen, Ken Kehoe, Zach Sherman, Bobby Jackson, Alyssa Sockol, Corey Godine, Max Grover, Jason Hemedinger, Jenni Kyrouac, Maxwell Levin, Michael Giansiracusa (2022). The Atmospheric Data Community Toolkit (ACT). Zenodo. DOI: ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"xCRh82d5Ju"},{"type":"cite","url":"https://doi.org/10.5281/zenodo.6712343","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Theisen ","key":"m88yoBsYN2"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"yEBEzGvE7w"}],"key":"RiMzAmfckr"},{"type":"text","value":" (2022)","key":"v79o7KBf2N"}],"kind":"narrative","label":"https://doi.org/10.5281/zenodo.6712343","identifier":"https://doi.org/10.5281/zenodo.6712343","enumerator":"2","key":"J2LaaunIO1"}],"key":"snjj5P1C5a"}],"key":"Staknd83Hm"}],"key":"UPwE2No9hg"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Maesaka, T., Iwanami, K. and Maki, M., 2012: Non-negative KDP Estimation by Monotone Increasing PHIDP Assumption below Melting Layer. The Seventh European Conference on Radar in Meteorology and Hydrology.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"hjWFiqcZyt"}],"key":"WPeP0TMOu8"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Schneebeli, M., Grazioli, J., and Berne, A., 2014: Improved Estimation of the Specific Differential Phase SHIFT Using a Compilation of Kalman Filter Ensembles, IEEE T. Geosci. Remote Sens., 52, 5137-5149, https://doi:10.1109/TGRS.2013.2287017","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"BhCx5ksoeo"}],"key":"Krm5Yjkznq"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Gianfranco Vulpiani, Mario Montopoli, Luca Delli Passeri, Antonio G. Gioia, Pietro Giordano, and Frank S. Marzano, 2012: On the Use of Dual-Polarized C-Band Radar for Operational Rainfall Retrieval in Mountainous Areas. J. Appl. Meteor. Climatol., 51, 405-425, doi: ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"XJcaMYksN9"},{"type":"link","url":"https://10.1175/JAMC-D-10-05024.1","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"https://​10​.1175​/JAMC​-D​-10​-05024.1","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"tsLrz36wKx"}],"urlSource":"https://10.1175/JAMC-D-10-05024.1","key":"pzZ0ZNAlHa"},{"type":"text","value":".","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"V9JCjBpLXG"}],"key":"bHAtG6C7iN"}],"key":"DxvCAjHisK"}],"key":"j6lUfB316t"}],"key":"eeLJRrhuCo"},"references":{"cite":{"order":["Helmus_2016","https://doi.org/10.5281/zenodo.6712343"],"data":{"Helmus_2016":{"label":"Helmus_2016","enumerator":"1","doi":"10.5334/jors.119","html":"Helmus, J. J., & Collis, S. M. (2016). The Python ARM Radar Toolkit (Py-ART), a Library for Working with Weather Radar Data in the Python Programming Language. <i>Journal of Open Research Software</i>, <i>4</i>(1), 25. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5334/jors.119\">10.5334/jors.119</a>","url":"https://doi.org/10.5334/jors.119"},"https://doi.org/10.5281/zenodo.6712343":{"label":"https://doi.org/10.5281/zenodo.6712343","enumerator":"2","doi":"10.5281/ZENODO.6712343","html":"Theisen, A., Kehoe, K., Sherman, Z., Jackson, B., Sockol, A., Godine, C., Grover, M., Hemedinger, J., Kyrouac, J., Levin, M., & Giansiracusa, M. (2022). <i>ARM-DOE/ACT: ACT Release v1.1.9</i>. Zenodo. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5281/ZENODO.6712343\">10.5281/ZENODO.6712343</a>","url":"https://doi.org/10.5281/ZENODO.6712343"}}}},"footer":{"navigation":{"prev":{"title":"Plotting Data from a Field Campaign (TRACER)","url":"/notebooks/example-workflows/tracer-example","group":"Example Workflows"},"next":{"title":"Data Quality Check from the CACTI Field Campaign","url":"/notebooks/example-workflows/cacti-data-quality-example","group":"Example Workflows"}}},"domain":"http://localhost:3000"}